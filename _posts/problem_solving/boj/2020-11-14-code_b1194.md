---
title:  "[java] ë°±ì¤€(BOJ) - ë‹¬ì´ ì°¨ì˜¤ë¥¸ë‹¤, ê°€ì."
excerpt: "ë°±ì¤€ - ë‹¬ì´ ì°¨ì˜¤ë¥¸ë‹¤, ê°€ì. ë¬¸ì œí’€ì´(feat. ë¹„íŠ¸ë§ˆìŠ¤í‚¹)"
toc: true
toc_sticky: true
categories:
  - Solution
tags:
  - boj
---
## ë¬¸ì œ  
[ë°±ì¤€-ë‹¬ì´ ì°¨ì˜¤ë¥¸ë‹¤, ê°€ì.](https://www.acmicpc.net/problem/1194){: target="_blank"}  
ë¯¼ì‹ì´ê°€ ë¯¸ë¡œë¥¼ íƒˆì¶œí•˜ëŠ”ë° ê±¸ë¦¬ëŠ” ì´ë™íšŸìˆ˜ì˜ ìµœì†Ÿê°’ì„ êµ¬í•˜ëŠ” ë¬¸ì œ  

* ì œí•œì‚¬í•­ 
ë¯¸ë¡œì˜ ì„¸ë¡œ, ê°€ë¡œí¬ê¸° N,M : 1 <= `N`,`M` <= 50  
ë¬¸ì„ ì—´ ìˆ˜ ìˆëŠ” ì—´ì‡  : a ~ f  
ë¬¸ : A ~ F  
ë²½ : ('#') ì ˆëŒ€ ì´ë™í•  ìˆ˜ ì—†ìŒ  
ë¯¼ì‹ì´ì˜ ìœ„ì¹˜ : ('0') 1ê°œ ìˆìŒ  
ì¶œêµ¬ : ('1') 1ê°œ ì´ìƒ ìˆìŒ  
ë¹ˆ ê³³ : ('.')  
ê°™ì€ ì—´ì‡ ê°€ ì—¬ëŸ¬ ê°œ ìˆì„ ìˆ˜ ìˆê³ , ë¬¸ë„ ì—¬ëŸ¬ ê°œ ìˆì„ ìˆ˜ ìˆë‹¤  
í•œ ì—´ì‡ ë¡œ ì—¬ëŸ¬ ë¬¸ì„ ì—´ ìˆ˜ ìˆë‹¤(ì—¬ëŸ¬ë²ˆ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ)  


## í’€ì´  
ë¹„íŠ¸ë§ˆìŠ¤í‚¹ì— ìµìˆ™í•´ì§€ê¸° ìœ„í•œ ë¬¸ì œí’€ì´(bfsì™€ ë¹„íŠ¸ë§ˆìŠ¤í‚¹ ì‚¬ìš©)  
(ì•„ì§ ë¯¸ìˆ™í•œ ë‹¨ê³„ ğŸ˜…ğŸ˜‚)  
ì´ì¯¤ë˜ë©´ ë¹„íŠ¸ë§ˆìŠ¤í‚¹í• ë•Œ ì–´ë–¤ ê²ƒì„ ìƒíƒœë¡œ ë†“ì„ì§€ ê°ì´ì˜¨ë‹¤  
ì—´ì‡ ì™€ ë¬¸ì´ 6ê°œì´ë¯€ë¡œ `1 << 6`ì„ í•´ì„œ ì—´ì‡ ì˜ ë³´ìœ í˜„í™©ì„ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤  
ì—´ì‡ ëŠ” ì†Œë¬¸ìë¡œ, ë¬¸ì€ ëŒ€ë¬¸ìë¡œ í‘œì‹œëœë‹¤  

ê·¸ëŸ¬ë¯€ë¡œ ì—´ì‡  "a"ëŠ” `'a' - 97`ì„ í•´ì„œ 0ìœ¼ë¡œ,  
ë¬¸ "A"ëŠ” `'A' - 65`ë¥¼ ì´ìš©í•´ì„œ í™•ì¸í•œë‹¤  

ì˜ˆë¥¼ ë“¤ì–´ì„œ, ì—´ì‡  'a','c'ë¥¼ ê°€ì§€ê³  ìˆë‹¤ê³  í•˜ì  
> ì—´ì‡ ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìƒíƒœ ë¹„íŠ¸ì˜ ìˆœì„œ: fedcba  
> ê° ì—´ì‡ ë¶€ë¶„ì´ **1**ì´ë©´ *ë³´ìœ í•˜ê³  ìˆìŒ*, **0**ì´ë©´ *ë³´ìœ í•˜ì§€ ì•ŠìŒ*ì„ ë‚˜íƒ€ë‚¸ë‹¤  
ê·¸ë ‡ë‹¤ë©´ 'a'ë¥¼ ê°€ì§„ ê²ƒì€ "000001"ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤(ì‹­ì§„ìˆ˜ : 1)  
ë§ˆì°¬ê°€ì§€ë¡œ 'a','c'ë¥¼ ê°€ì§€ê³  ìˆë‹¤ë©´ "000101"ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤(ì‹­ì§„ìˆ˜ : 5)  

ë§Œì•½ì— 'a','c'ë¥¼ ê°€ì§€ê³  ìˆëŠ” ìƒíƒœ(000101)ì—ì„œ ë¬¸"C"ë¥¼ ë§Œë‚¬ë‹¤ê³  í•œë‹¤ë©´,  
ë¬¸ "C"ëŠ” `'C'-65`ë¥¼ í•´ì„œ 2ì„ êµ¬í•œë‹¤ìŒ, `ìƒíƒœ | (1 << 2)`ì˜ ê²°ê³¼ë¡œ ë¬¸ì„ ì—´ ìˆ˜ ìˆëŠ”ì§€ íŒë‹¨í•  ìˆ˜ ìˆë‹¤  
0 0 0 **1** 0 1 (í˜„ì¬ ìƒíƒœ)  
0 0 0 **1** 0 0 (1 << 2)  
0 0 0 **1** 0 0 (ë‘ ê°’ì„ OR(`|`)í•œ ê²°ê³¼)  

<ins>0ë³´ë‹¤ í¬ë‹¤ëŠ” ê²ƒì€, ì—´ì‡ ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©° ë¬¸ì„ ì—´ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒ</ins>ì„ ì˜ë¯¸í•œë‹¤  


bfsë¡œ ì¶œë°œì§€ì ì—ì„œ ì‹œì‘í•˜ëŠ”ë° `Loc`í´ë˜ìŠ¤ë¥¼ ìƒì„±í•´ì„œ ì‚¬ìš©í–ˆë‹¤  
```java
class Loc{
	int x; // ì¢Œí‘œ
	int y;
	int state; // ì—´ì‡  ë³´ìœ  ìƒíƒœ
	int steps; // ì´ë™ ì¹¸ì˜ ìˆ˜
}
```
ìµœì†Ÿê°’ì„ ì €ì¥í•  ë³€ìˆ˜ëŠ” `ans = Integer.MAX_VALUE`ë¡œ ì´ˆê¸°í™”í–ˆë‹¤  

ë°©ë¬¸í•œ ìœ„ì¹˜ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì€ `visit[][][]`ì— ê¸°ë¡í•´ì„œ íŒë³„í–ˆë‹¤  
`visit[state][x][y]`ë¡œ ê° ì—´ì‡ ë³´ìœ ì— ë”°ë¥¸ xì¢Œí‘œ, yì¢Œí‘œë¡œ ê¸°ë¡í–ˆë‹¤  

ëŒë‹¤ê°€ `map[x][y] == '1'`ì´ë©´ ì¶œêµ¬ë¥¼ ë§Œë‚¬ìœ¼ë¯€ë¡œ ìµœì†Ÿê°’ì„ ì €ì¥í•˜ê³  ì¢…ë£Œ ~~!!  
`q.isEmpty()`ê°€ trueê°€ ë˜ë„ë¡ ì§„í–‰í•œ í›„ ìµœì†Ÿê°’ì´ ì´ˆê¸°ê°’ê³¼ ê°™ë‹¤ë©´ ë‹µì´ ì—†ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— -1ë¥¼ ë¦¬í„´í•œë‹¤  


## ì†ŒìŠ¤ì½”ë“œ  
```java
// íŒ¨í‚¤ì§€ ìƒëµ
public class Main {
	private static int M;
	private static int N;
	private static char[][] map;
	static boolean[][][] visit;
	static int dx[] = { 1, -1, 0, 0 };
	static int dy[] = { 0, 0, 1, -1 };

	public static void main(String[] args) throws IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st = new StringTokenizer(br.readLine());
		N = Integer.parseInt(st.nextToken());
		M = Integer.parseInt(st.nextToken());
		// state, N, M
		visit = new boolean[1 << 6][N][M];
		map = new char[N][M];
		Queue<Loc> q = new LinkedList<>();
		for (int i = 0; i < N; i++) {
			String t = br.readLine();
			for (int j = 0; j < M; j++) {
				map[i][j] = t.charAt(j);
				if (map[i][j] == '0') {
					q.add(new Loc(i, j, 0, 0)); // ì´ˆê¸° ìœ„ì¹˜ íì— ì‚½ì…
					visit[0][i][j] = true;
					map[i][j] = '.';
				}
			}
		}
		//
		int min = Integer.MAX_VALUE;

		while (!q.isEmpty()) {
			Loc curr = q.poll();
			if (map[curr.x][curr.y] == '1') { // ì¶œêµ¬ ë„ì°©í•˜ë©´ ë
				min = curr.steps;
				break;
			}
			for (int i = 0; i < 4; i++) {
				int nx = curr.x + dx[i];
				int ny = curr.y + dy[i];
				if (nx > -1 && ny > -1 && nx < N && ny < M && map[nx][ny] != '#' && !visit[curr.state][nx][ny]) {
					int v = map[nx][ny];
					if (v - 65 >= 0 && v - 65 <= 5 && (curr.state & (1 << v - 65)) == 0) { // ë¬¸ì´ë©´ì„œ ì—´ì‡ ê°€ ì—†ëŠ” ê²½ìš°
						continue;
					}
					visit[curr.state][nx][ny] = true; // í˜„ì¬ ìƒíƒœì— ë°©ë¬¸ì²˜ë¦¬

					if (v - 97 >= 0 && v - 97 <= 5) { // ì—´ì‡ ì¸ê²½ìš°, ì—´ì‡  ìƒíƒœë¹„íŠ¸ë¥¼ ë”í•´ì„œ íì— ì¶”ê°€
						q.add(new Loc(nx, ny, (curr.state | 1 << map[nx][ny] - 97), curr.steps + 1));
					} else { // ê·¸ ì™¸
						q.add(new Loc(nx, ny, curr.state, curr.steps + 1));
					}
				}
			}
		}
		System.out.println(min == Integer.MAX_VALUE ? -1 : min);
	}
}

class Loc {
	int x;
	int y;
	int state;
	int steps;

	public Loc(int x, int y, int state, int steps) {
		super();
		this.x = x;
		this.y = y;
		this.state = state;
		this.steps = steps;
	}
}
```