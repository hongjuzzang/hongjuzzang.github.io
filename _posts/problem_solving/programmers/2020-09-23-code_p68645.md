---
title:  "[java] 프로그래머스 - 삼각 달팽이"
excerpt: "프로그래머스 - 삼각 달팽이 문제풀이"
toc: true
toc_sticky: true
categories:
  - Solution
tags:
  - programmers
---
## 문제  
[프로그래머스-삼각 달팽이](https://programmers.co.kr/learn/courses/30/lessons/68645?language=java){: target="_blank"}  
밑변의 길이와 높이가 n인 삼각형에서 달팽이 채우기를 진행한 후, 첫 행부터 마지막 행까지 숫자를 합친 배열을 리턴하는 문제  

* 제한 사항  
n은 1이상 1,000 이하다  

* 예시  
![example](https://grepp-programmers.s3.ap-northeast-2.amazonaws.com/files/production/e1e53b93-dcdf-446f-b47f-e8ec1292a5e0/examples.png)  
n = 4 인 경우, 위에서부터 순서대로 배열에 적용하면  
[1,2,9,3,10,8,4,5,6,7] 가 된다  


## 풀이  
삼각형에서 규칙을 찾아서 배열에 적용하면 된다  
규칙찾는게 수포자에게는 힘들 뿐.. ㅎ  
먼저 답을 구하기 위해 생각해봐야 할 것을 정리하자면  
1. 전체 배열의 크기  
2. 왼쪽 대각선 채울 때 idx 규칙(시작 idx)  
( 밑변채우는건 쉬우니까 패스)  
3. 오른쪽 대각선 채울 때 idx 규칙  
4. 내부 삼각형을 그릴 때 어떻게 할지  

### 문제풀이 참고용 `N=10 삼각형`  
![나의 노가다](/assets/images/post/200923-1.png)  

삼각형의 길이를 `N`  
삼각형 내부 작은 삼각형의 길이를 `n`이라고 하자  
* 전체 배열 길이  
 n = 4, 10  
 n = 5, 15  
 n = 6, 21  
  > n*(n+1)/2  

### 왼쪽 대각선  
삼각형을 채우기 시작할 때 어디 인덱스부터 시작해야할까?  
처음에 제일 큰 삼각형(길이 n)을 그릴땐 0부터 시작하지만 내부 삼각형을 그릴때에도 0부터 시작할 순 없다  

변수 k를 줘서 외부에서 몇번째 겹(?? layer??)인지를 저장한다  
내부로 갈수록 값이 증가한다고 하면  
삼각형(초록글씨) `k=0`, 시작인덱스 : 0  
삼각형(빨강글씨) `k=1`, 시작인덱스 : 4  
삼각형(회색글씨) `k=2`, 시작인덱스 : 12  
삼각형(남색글씨) `k=3`, 시작인덱스 : 24  
 * 시작 인덱스 : `2k(k+1)`  

시작인덱스부터 n-1회 값을 채운다  
이때의 인덱스에도 규칙을... 찾아..   
삼각형(초록글씨) `k=0`, [0 1 3 6 10 15 21 ...] 계차 시작 값 : 1 (1 2 3 ...)  
삼각형(빨강글씨) `k=1`, [4 7 11 16 22 29 37 ...] 계차 시작 값 : 3 (3 4 5 ...)  
삼각형(회색글씨) `k=2`, [12 17 23 30 ...] 계차 시작 값 : 5  
* 인덱스 계차 시작 값 : `2k + 1`  

### 오른쪽 대각선  
왼쪽 대각선 채울 때 인덱스처럼 계차 수열로 되어있는데  
이때는 증가가 아닌 <ins>감소 형태</ins>로 되어있다  
삼각형(초록글씨) `k=0`, [54 44 35 27 20 14 ... 2] 10부터 8회, 1씩 감소  
삼각형(빨강글씨) `k=1`, [43 34 26 19 13 ... 8] 9부터 5회, 1씩 감소  
삼각형(회색글씨) `k=2`, [33 25 18 12 ...] 8부터 2회, 1씩 감소  
* 인덱스 : `N-k`부터 `n-2`회, 1씩 감소  
  > N : 가장 큰 삼각형 길이, 10  
  > n : 내부 삼각형 길이 , n <= N  

### 내부 삼각형 크기  
삼각형(초록글씨) `k=0`, 한 변 길이 n : 10  
삼각형(빨강글씨) `k=1`, 한 변 길이 n : 7  
삼각형(회색글씨) `k=2`, 한 변 길이 n : 4  
삼각형(남색글씨) `k=3`, 한 변 길이 n : 1  
* n의 내부 삼각형 길이 : n-3  
n이 0보다 클때까지 감소하면서 삼각형을 채우면 된다  


## 소스코드  
```java
class Solution {
static int[] answer;
	static int value;
	static int N;

	public int[] solution(int n) {
		N = n;
		answer = new int[n * (n + 1) / 2];
		value = 1;
		int k = 0;
		while (n >= 1) {
			fillArr(2 * k * (k + 1), 2 * k + 1, n, k);
			n -= 3;
			k++;
		}
		return answer;
	}

	private void fillArr(int startIdx, int sub, int n, int k) {
		if (n == 1) {
			answer[startIdx] = value;
			return;
		}
		// / __ \ 순으로 숫자 채우기
		// / 왼쪽 대각선
		int idx = startIdx;
		int cnt = n - 1;
		while (cnt > 0) {
			answer[idx] = value++;
			idx += sub++;
			cnt--;
		}
		// ㅡ 밑변
		for (int i = 0; i < n; i++) {
			answer[idx++] = value++;
		}
		// \ 오른쪽 대각선
		idx--;
		int nk = N - k;
		for (int i = 0; i < n - 2; i++) {
			idx -= nk;
			answer[idx] = value++;
			nk--;
		}
	}
}
```